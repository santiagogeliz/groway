{% load static %}
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
	<link href="https://fonts.googleapis.com/css?family=Candal|Sawarabi+Gothic" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Anton|Muli:300,400" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="{% static 'css/groway.css' %}">
  <link rel="icon" type="image/png" href="{% static 'img/growayicon.ico' %}">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  	<script type="text/javascript">
  		$(function() {
  			var user = $(".user");
  			var tool = $(".tool");
  			var subtool = $(".subtool");
  			var subuser = $(".subuser");
  			var drop1 = $(".drop1");
  			var down1 = $(".down1");
  			var drop2 = $(".drop2");
  			var down2 = $(".down2");
  			var drop3 = $(".drop3");
  			var down3 = $(".down3");
  			var content = $(".content");
  			tool.click(function() {
  				tool.removeClass("active");
  				user.removeClass("active");
  				down1.removeClass("solid");
  				down2.removeClass("solid");
  				down3.removeClass("solid");
  				$(this).addClass("active");
  			});
  			user.click(function() {
  				user.removeClass("active");
  				tool.removeClass("active");
  				down1.removeClass("solid");
  				down2.removeClass("solid");
  				down3.removeClass("solid");
  				$(this).addClass("active");
  			});

  			subtool.click(function() {
  				down1.removeClass("solid");
  				down2.removeClass("solid");
  				down3.removeClass("solid");
  				$(this).addClass("active");
  			});
  			content.click(function() {
  				user.removeClass("active");
  				tool.removeClass("active");
  				down1.removeClass("solid");
  				down2.removeClass("solid");
  				down3.removeClass("solid");
  				$(this).addClass("active");
  			});
  			subuser.click(function() {
  				user.removeClass("active");
  			});
  			drop1.click(function() {
  				down1.addClass("solid");
  			});
  			drop2.click(function() {
  				down2.addClass("solid");
  			});
  			drop3.click(function() {
  				down3.addClass("solid");
  			});
  		});
  	</script>
  	
  	<title>Groway - Software Contable, Facturación, Crecimiento</title>
</head>
<body>
	<header class="block">
		<nav class="growaynav navbar navbar-fixed-top">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<div class="row">
						<div class="colum brand">
              <div class="logo-nombre-org">
                {% if orgactivas.logo_organizacion %}
                <div class="logo_org">
                  <img src="{{orgactivas.logo_organizacion.url}}" alt="Groway" width="300" height="60">
                </div>
                {% endif %}
                {% if orgactivas.logo_organizacion == "" %}
                <h2 class="nombre-org">{{orgactivas.nombre_visible_cia}}</h2>
                {% endif %}
                {% if orgactivas == None %}
                <h2 class="nombre-default">ORGANIZACIÓN</h2>
                {% endif %}
              </div>
						</div>
						<div class="colum mini-brand">
							<a href="{% url 'dashboard' %}"><img src="{% static 'img/growayminilogo.png' %}"alt="Groway" width="70" height="40" class="minilogo_groway"></a>
						</div>
					</div>
				</div>
				<div class="collapse navbar-collapse" id="myNavbar">
					<ul class="tools navbar-nav">
            <a class="drop1 tool">Documentos <span class="caret"></span></a>
              <ul class="down1 subtools">
                <a class="subtool" href="{% url 'cotizaciones' %}">Cotizaciones</a>
                <a class="subtool" href="{% url 'remisiones' %}">Remisiones</a>
                <a class="subtool" href="{% url 'facturas_venta' %}">Facturas de Venta</a>
                <a class="subtool" href="{% url 'notas_credito' %}">Notas Crédito</a>
                <a class="subtool" href="{% url 'notas_debito' %}">Notas Débito</a>
                <a class="subtool" href="{% url 'facturas_compra' %}">Compras / Gastos</a>
              </ul>
            <a class="drop2 tool">Contactos <span class="caret"></span></a>
              <ul class="down2 subtools">
                <a class="subtool" href="{% url 'clientes' %}">Clientes</a>
                <a class="subtool" href="{% url 'proveedores' %}">Proveedores</a>
              </ul>
            <a class="drop3 tool">Inventario <span class="caret"></span></a>
              <ul class="down3 subtools">
                <a class="subtool" href="{% url 'items' %}">Items de Venta</a>
                <a class="subtool" href="{% url 'insumos' %}">Insumos</a>
              </ul>
            <a class="tool" href="{% url 'reportes_crecimiento' %}">Crecimiento <span class="glyphicon glyphicon-stats"></span></a>
          </ul>
					<ul class="user-tools navbar-nav navbar-right row">
            <a class="user dropuser dropdown dropdown-toggle" data-toggle="dropdown">{{user.username}} <span class="glyphicon glyphicon-user"></span></a>
              <ul class="dropdown-menu">
                <a class="subuser" href="{% url 'organizacion' %}">Organización</a>
                <a class="subuser" href="{% url 'logout' %}">Cerrar Sesión</a>
              </ul>
          </ul>
				</div>
			</div>
		</nav>
	</header>
	<div class="content">
    <div class="titulo-dashboard">
      <div class="logo-groway-completo">
        <img src="{% static 'img/growaylogoversion2.png' %}" alt="Groway" width="190" height="100">
      </div>
      <div class="dashboard-texto container-fluid">
        <h1>Dashboard</h1>
        <p>Bienvenido, <a>{{user.username}}</a></p>
      </div>
    </div>
    <div class="objetos-recientes">
      <div class="facturas-recientes">
        <div class="titulo-obj" style="text-align: center;">
          <h3 style="color: #3B3B3B;">Facturas de Venta Recientes</h3>
        </div>
        <div class="lista-objetos">
          <div class="list-group">
          {% if orgactivas == None %}
            <div class="noobject-alert">
              <h4><span class="glyphicon glyphicon-alert"></span><strong> No hay Organización activa</strong></h4>
              <p>Para crear y ver las Facturas es necesario que haya una <strong>ORGANIZACIÓN ACTIVA.</strong><br>
              Puedes crear y activar una Organización desde las opciones de usuario, haciendo click en tu <strong>Nombre de Usuario.</strong></p>
            </div>
          {% endif %}
          {% if nohayfacturas == 0 %}
            <div class="noobject-alert">
              <h4><span class="glyphicon glyphicon-alert"></span><strong> No hay facturas de venta creadas todavía</strong></h4>
              <p>Para crear una nueva factura de venta ingresa a la opción <strong>DOCUMENTOS.</strong></p>
            </div>
          {% endif %}
          {% if nohayfacturas > 0 and solo_fac_anuladas == 0 %}
            <div class="noobject-alert">
              <h4><span class="glyphicon glyphicon-alert"></span><strong> Solo hay facturas anuladas</strong></h4>
              <p>Todas las facturas están anuladas, para verlas ingresa a la opción <strong>DOCUMENTOS.</strong></p>
            </div>
          {% endif %}
          {% for factura in facturas %}
            <a href="{% url 'detalle_factura_venta' pk=factura.pk %}" class="list-group-item">
              <h4>{{factura.consecutivo_interno}}</h4>
              <p><strong>{{factura.fecha_emision|date:"d F Y"}} {{factura.fecha_emision|date:"f a"}}</strong></p>
              <p><strong>{{factura.cliente}}</strong></p>
            </a>
          {% endfor %}
          </div>
        </div>
      </div>
      <div class="cotizaciones-recientes">
        <div class="titulo-obj" style="text-align: center;">
          <h3 style="color: #3B3B3B;">Cotizaciones Recientes</h3>
        </div>
        <div class="lista-objetos">
          <div class="list-group">
          {% if orgactivas == None %}
            <div class="noobject-alert">
              <h4><span class="glyphicon glyphicon-alert"></span><strong> No hay Organización activa</strong></h4>
              <p>Para crear y ver las Cotizaciones es necesario que haya una <strong>ORGANIZACIÓN ACTIVA.</strong><br>
              Puedes crear y activar una Organización desde las opciones de usuario, haciendo click en tu <strong>Nombre de Usuario.</strong></p>
            </div>
          {% endif %}
          {% if nohaycotizaciones == 0 %}
            <div class="noobject-alert">
              <h4><span class="glyphicon glyphicon-alert"></span><strong> No hay cotizaciones creadas todavía</strong></h4>
              <p>Para crear una nueva cotización ingresa a la opción <strong>DOCUMENTOS.</strong></p>
            </div>
          {% endif %}
          {% for cotizacion in cotizaciones %}
            <a href="{% url 'detalle_cotizacion' pk=cotizacion.pk %}" class="list-group-item">
              <h4>{{cotizacion.consecutivo_interno}}</h4>
              <p><strong>{{cotizacion.fecha_emision|date:"d F Y"}} {{cotizacion.fecha_emision|date:"f a"}}</strong></p>
              <p><strong>{{cotizacion.cliente}}</strong></p>
            </a>
          {% endfor %}
          </div>
        </div>
      </div>
      <div class="remisiones-recientes">
        <div class="titulo-obj" style="text-align: center;">
          <h3 style="color: #3B3B3B;">Remisiones Recientes</h3>
        </div>
        <div class="lista-objetos">
          <div class="list-group">
          {% if orgactivas == None %}
            <div class="noobject-alert">
              <h4><span class="glyphicon glyphicon-alert"></span><strong> No hay Organización activa</strong></h4>
              <p>Para crear y ver las Remisiones es necesario que haya una <strong>ORGANIZACIÓN ACTIVA.</strong><br>
              Puedes crear y activar una Organización desde las opciones de usuario, haciendo click en tu <strong>Nombre de Usuario.</strong></p>
            </div>
          {% endif %}
          {% if nohayremisiones == 0 %}
            <div class="noobject-alert">
              <h4><span class="glyphicon glyphicon-alert"></span><strong> Crear un Documento Base</strong></h4>
              <p>Las remisiones deben ser generadas a partir de un documento base como una <strong>Cotización</strong> o una <strong>Factura de Venta.</strong><br>Puedes crear y consultar estos documentos ingresando a la opción <strong>DOCUMENTOS.</strong>
            </div>
          {% endif %}
          {% for remision in remisiones %}
            <a href="{% url 'detalle_remision' pk=remision.pk %}" class="list-group-item">
              <h4>{{remision.consecutivo_interno}}</h4>
              <p><strong>{{remision.fecha_emision|date:"d F Y"}} {{remision.fecha_emision|date:"f a"}}</strong></p>
              <p><strong>{{remision.cliente}}</strong></p>
            </a>
          {% endfor %}
          </div>
        </div>
      </div>
      <div class="reportes-recientes">
        <div class="titulo-obj" style="text-align: center;">
          <h3 style="color: #3B3B3B;">Reportes Recientes</h3>
        </div>
        <div class="lista-objetos">
          <div class="list-group">
          {% if orgactivas == None %}
            <div class="noobject-alert">
              <h4><span class="glyphicon glyphicon-alert"></span><strong> No hay Organización activa</strong></h4>
              <p>Para crear y ver los reportes de crecimiento es necesario que haya una <strong>ORGANIZACIÓN ACTIVA.</strong><br>
              Puedes crear y activar una Organización desde las opciones de usuario, haciendo click en tu <strong>Nombre de Usuario.</strong></p>
            </div>
          {% endif %} 
          {% if nohayreportes == 0 %}
            <div class="noobject-alert">
              <h4><span class="glyphicon glyphicon-alert"></span><strong> No hay Reportes creados todavía</strong></h4>
              <p>Para crear un nuevo reporte de crecimiento haz click en <strong>CRECIMIENTO.</strong></p>
            </div>
          {% endif %}
          {% for reporte in reportes %}
            <a href="{% url 'mostrar_reporte' pk=reporte.pk %}" class="list-group-item">
             <h4>{{reporte.nombre}}</h4>
             <p>{{reporte.metrica_crecimiento}}</p>
            </a>
          {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <footer>
    <div class="footer-info">
      <p>Groway, un software de SantiagoGeliz / www.linkedin.com/in/santiagogeliz</p>
    </div>
  </footer>
</body>